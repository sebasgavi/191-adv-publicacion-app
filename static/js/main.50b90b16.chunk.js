(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(43)},30:function(e,t,n){},31:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(11),o=n.n(i),c=(n(30),n(8)),l=n(9),u=n(10),p=n(13),s=n(12),m=n(16),g=n(14),d=n(5),b=(n(20),n(31),n(7)),f=n(3),h=n(18),y=n.n(h),O="https://backendapi.turing.com";var j,D,v,E,C,w,k={getDepartments:function(e){fetch("".concat(O,"/departments")).then(function(e){return e.json()}).then(function(t){e(t)})},getCategories:function(e){fetch("".concat(O,"/categories")).then(function(e){return e.json()}).then(function(t){e(t.rows)})}};y.a.initializeApp({apiKey:"AIzaSyApqUPW4WvE5dCC0G7z8lpqhTndxK66aoM",authDomain:"adv-90ad2.firebaseapp.com",databaseURL:"https://adv-90ad2.firebaseio.com",projectId:"adv-90ad2",storageBucket:"adv-90ad2.appspot.com",messagingSenderId:"652073464161",appId:"1:652073464161:web:e25895ffe91aa783"});var _,I,S,z,N,P=new(j=function(){function e(){Object(l.a)(this,e),Object(c.a)(this,"departments",D,this),Object(c.a)(this,"loadingDeps",v,this),Object(c.a)(this,"categories",E,this),Object(c.a)(this,"currentDept",C,this),Object(c.a)(this,"currentCat",w,this)}return Object(u.a)(e,[{key:"getDepartments",value:function(){var e=this;if(!this.loadingDeps&&!this.departments){var t=localStorage.getItem("departments"),n=localStorage.getItem("departments_time");if(t&&n&&Date.now()-parseInt(n)<6048e5)this.departments=JSON.parse(t);else{this.loadingDeps=!0;k.getDepartments(function(t){localStorage.setItem("departments",JSON.stringify(Object(f.n)(t))),localStorage.setItem("departments_time",Date.now()+""),e.departments=t,e.loadingDeps=!1})}}}},{key:"setDepartment",value:function(e){this.currentDept=e,this.currentCat=null}},{key:"getCategories",value:function(){var e=this;null==this.categories&&(this.categories=!1,k.getCategories(function(t){e.categories=t}))}},{key:"setCategory",value:function(e){this.currentCat=e}},{key:"uploadFile",value:function(e,t){y.a.storage().ref().child("gatos/"+e).putString(t,"data_url").then(function(e){console.log("Uploaded a base64url string!")})}},{key:"pageTitle",get:function(){var e=this,t=this.departments&&this.departments.find(function(t){return t.department_id==e.currentDept}),n=this.categories&&this.categories.find(function(t){return t.category_id==e.currentCat});return"".concat(t?t.name:""," ").concat(n?" - "+n.name:"")}}]),e}(),D=Object(d.a)(j.prototype,"departments",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=Object(d.a)(j.prototype,"loadingDeps",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=Object(d.a)(j.prototype,"categories",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=Object(d.a)(j.prototype,"currentDept",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=Object(d.a)(j.prototype,"currentCat",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(d.a)(j.prototype,"pageTitle",[f.e],Object.getOwnPropertyDescriptor(j.prototype,"pageTitle"),j.prototype),Object(d.a)(j.prototype,"getDepartments",[f.d],Object.getOwnPropertyDescriptor(j.prototype,"getDepartments"),j.prototype),Object(d.a)(j.prototype,"setDepartment",[f.d],Object.getOwnPropertyDescriptor(j.prototype,"setDepartment"),j.prototype),Object(d.a)(j.prototype,"getCategories",[f.d],Object.getOwnPropertyDescriptor(j.prototype,"getCategories"),j.prototype),Object(d.a)(j.prototype,"setCategory",[f.d],Object.getOwnPropertyDescriptor(j.prototype,"setCategory"),j.prototype),j),T=Object(b.a)(function(){return r.a.createElement("div",null,P.departments&&P.departments.map(function(e){return r.a.createElement("button",{key:e.department_id,onClick:function(){var t;t=e.department_id,P.setDepartment(t)},style:{backgroundColor:P.currentDept===e.department_id?"#E0E0E0":"white"},className:P.currentDept===e.department_id?"active":""},e.name)}))}),A=Object(b.a)(function(){return P.departments?r.a.createElement("nav",null,r.a.createElement(T,null)):r.a.createElement("p",null,"Cargando...")}),J=Object(b.a)(_=function(e){function t(e){var n;return Object(l.a)(this,t),n=Object(p.a)(this,Object(s.a)(t).call(this,e)),P.getCategories(),n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,P.pageTitle),r.a.createElement("h3",null,P.departments?"Departments":"Loading Departments..."),r.a.createElement(T,null),null!=P.currentDept&&r.a.createElement("h3",null,P.categories?"Categories":"Loading Categories..."),P.categories&&P.categories.map(function(e){return e.department_id!=P.currentDept?null:r.a.createElement("button",{key:e.category_id,onClick:function(){P.setCategory(e.category_id)},style:{background:P.currentCat==e.category_id?"gray":"white"}},e.name)}))}}]),t}(a.Component))||_,L=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Store page"),r.a.createElement(J,null),r.a.createElement(J,null),r.a.createElement("p",null,"productos"))}}]),t}(a.Component),R=n(24),U=Object(b.a)((S=function(e){function t(e){var n;return Object(l.a)(this,t),n=Object(p.a)(this,Object(s.a)(t).call(this,e)),Object(c.a)(n,"file",z,Object(m.a)(n)),Object(c.a)(n,"fileName",N,Object(m.a)(n)),P.getDepartments(),n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(R.a,{onDrop:function(t){console.log(t[0]);var n=new FileReader;n.onload=function(t){e.file=t.target.result,console.log(e.file)},n.readAsDataURL(t[0])}},function(e){var t=e.getRootProps,n=e.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",t(),r.a.createElement("input",n()),r.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files")))}),this.file&&r.a.createElement("div",null,r.a.createElement("img",{src:this.file,style:{width:"100%"}}),r.a.createElement("input",{type:"text",onInput:function(t){return e.fileName=t.target.value}}),r.a.createElement("button",{onClick:function(){P.uploadFile(e.fileName+".jpg",e.file)}},"Subir imagen")),r.a.createElement("h1",null,P.pageTitle),r.a.createElement(A,null),r.a.createElement(L,null))}}]),t}(a.Component),z=Object(d.a)(S.prototype,"file",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=Object(d.a)(S.prototype,"fileName",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=S))||I,x=Object(b.a)(U);o.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.50b90b16.chunk.js.map